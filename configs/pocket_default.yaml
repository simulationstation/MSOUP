run_label: pocket_default
fast_mode: false

data:
  clk_glob: "data/gfz/clk/2022/*.CLK.gz"
  sp3_glob: "data/gfz/sp3/2022/*.SP3.gz"
  magnetometer_glob: "data/mag/*/2022/*.csv"
  chunk_hours: 6
  cache_dir: "results/cache"
  # Memory-safety limits (0 = no limit, recommended: 30-60 for 11GB RAM)
  max_clk_files: 30
  max_mag_files: 30

preprocess:
  detrend: "median"
  detrend_window_minutes: 60
  highpass_minutes: 5
  max_gap_factor: 5
  min_window_minutes: 15
  cadence_seconds: 30

candidates:
  threshold_sigma: 4.0
  subthreshold_sigma: 2.0
  min_duration_seconds: 30
  neighbor_time_seconds: 120
  neighbor_angle_degrees: 25
  keep_subthreshold: true
  max_candidates_per_sensor: 200000

windows:
  cadence_tolerance: 1.5
  angular_response: true
  require_fractional_coverage: 0.6

stats:
  null_realizations: 256
  resamples_sanity_default: 128
  resamples_full_default: 512
  block_length: 128
  random_seed: 13
  n_processes: 1  # Serial processing to avoid memory duplication
  enforce_determinism: true
  allow_time_shift_null: false
  pair_mode: binned
  time_bin_seconds: 60
  max_rss_gb: 9.0
  max_candidates_in_memory: 750000

resources:
  max_workers: 1
  chunk_days: 7
  resamples_sanity_default: 128
  resamples_full_default: 512
  max_rss_gb: 9.0
  pair_mode: binned
  time_bin_seconds: 60
  max_candidates_in_memory: 750000

geometry:
  enable_geometry_test: true
  n_shuffles: 200
  min_sensors: 4
  speed_prior_kmps: 300.0

output:
  results_dir: "results/msoup_pocket_test"
  report_name: "REPORT.md"
  cache_dir: "results/cache"
